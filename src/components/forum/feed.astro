---
import Comment from './comment.astro';
const { comments } = Astro.props;

type Comment = {
  id: string;
  parrent: string;
  text: string;
  date: string;
  likes: number;
  name: string;
};

const elements: Comment[] = [];

comments.forEach((doc: any) => {
  let comment = {} as Comment;

  comment.id = doc.data().id;
  comment.parrent = doc.data().parrent;
  comment.text = doc.data().text;
  comment.date = doc.data().date;
  comment.likes = doc.data().likes;
  comment.name = doc.data().name;

  elements.push(comment);
});
---

{
  elements.map((comment) => (
    <Comment
      text={comment.text}
      auth={comment.name}
      likes={comment.likes}
      date={comment.date}
    />
  ))
}
