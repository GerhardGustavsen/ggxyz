---
import Input from './input.astro';
import Feed from './feed.astro';
import { collection, addDoc, getDocs } from 'firebase/firestore';
import 'firebase/firestore';

import { initializeApp } from 'firebase/app';
import { getFirestore } from 'firebase/firestore';

const firebaseConfig = {
  apiKey: 'AIzaSyBYNQ61f0YBUALVtW-PEiOaOUCBjgChmxI',
  authDomain: 'gergus.firebaseapp.com',
  projectId: 'gergus',
  storageBucket: 'gergus.appspot.com',
  messagingSenderId: '323475194728',
  appId: '1:323475194728:web:b6350e02bbc10b35d5ccdd',
  measurementId: 'G-1E1DK4LHY7',
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const guestbook = await getDocs(collection(db, 'guestbook'));
---

<script type='module'>
  import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';

  // If you enabled Analytics in your project, add the Firebase SDK for Google Analytics
  import { getAnalytics } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js';

  // Add Firebase products that you want to use
  import { getAuth } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
  import { getFirestore } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

  console.log('tet');
</script>

<Feed comments={guestbook} />

<br />
<Input>
  <p class='text-3xl px-[0.5em] font-bold mr-[-0.6em]'>âœŽ</p>
</Input>
